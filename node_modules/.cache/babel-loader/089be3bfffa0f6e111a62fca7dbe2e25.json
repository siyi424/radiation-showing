{"ast":null,"code":"import { __extends } from \"tslib\";\nimport Displayable, { DEFAULT_COMMON_STYLE, DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { defaults, createObject } from '../core/util.js';\nexport var DEFAULT_IMAGE_STYLE = defaults({\n  x: 0,\n  y: 0\n}, DEFAULT_COMMON_STYLE);\nexport var DEFAULT_IMAGE_ANIMATION_PROPS = {\n  style: defaults({\n    x: true,\n    y: true,\n    width: true,\n    height: true,\n    sx: true,\n    sy: true,\n    sWidth: true,\n    sHeight: true\n  }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\n\nfunction isImageLike(source) {\n  return !!(source && typeof source !== 'string' && source.width && source.height);\n}\n\nvar ZRImage = function (_super) {\n  __extends(ZRImage, _super);\n\n  function ZRImage() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ZRImage.prototype.createStyle = function (obj) {\n    return createObject(DEFAULT_IMAGE_STYLE, obj);\n  };\n\n  ZRImage.prototype._getSize = function (dim) {\n    var style = this.style;\n    var size = style[dim];\n\n    if (size != null) {\n      return size;\n    }\n\n    var imageSource = isImageLike(style.image) ? style.image : this.__image;\n\n    if (!imageSource) {\n      return 0;\n    }\n\n    var otherDim = dim === 'width' ? 'height' : 'width';\n    var otherDimSize = style[otherDim];\n\n    if (otherDimSize == null) {\n      return imageSource[dim];\n    } else {\n      return imageSource[dim] / imageSource[otherDim] * otherDimSize;\n    }\n  };\n\n  ZRImage.prototype.getWidth = function () {\n    return this._getSize('width');\n  };\n\n  ZRImage.prototype.getHeight = function () {\n    return this._getSize('height');\n  };\n\n  ZRImage.prototype.getAnimationStyleProps = function () {\n    return DEFAULT_IMAGE_ANIMATION_PROPS;\n  };\n\n  ZRImage.prototype.getBoundingRect = function () {\n    var style = this.style;\n\n    if (!this._rect) {\n      this._rect = new BoundingRect(style.x || 0, style.y || 0, this.getWidth(), this.getHeight());\n    }\n\n    return this._rect;\n  };\n\n  return ZRImage;\n}(Displayable);\n\nZRImage.prototype.type = 'image';\nexport default ZRImage;","map":{"version":3,"names":["__extends","Displayable","DEFAULT_COMMON_STYLE","DEFAULT_COMMON_ANIMATION_PROPS","BoundingRect","defaults","createObject","DEFAULT_IMAGE_STYLE","x","y","DEFAULT_IMAGE_ANIMATION_PROPS","style","width","height","sx","sy","sWidth","sHeight","isImageLike","source","ZRImage","_super","apply","arguments","prototype","createStyle","obj","_getSize","dim","size","imageSource","image","__image","otherDim","otherDimSize","getWidth","getHeight","getAnimationStyleProps","getBoundingRect","_rect","type"],"sources":["/home/siyi/Projects/radi-demo/radi-showing/node_modules/zrender/lib/graphic/Image.js"],"sourcesContent":["import { __extends } from \"tslib\";\nimport Displayable, { DEFAULT_COMMON_STYLE, DEFAULT_COMMON_ANIMATION_PROPS } from './Displayable.js';\nimport BoundingRect from '../core/BoundingRect.js';\nimport { defaults, createObject } from '../core/util.js';\nexport var DEFAULT_IMAGE_STYLE = defaults({\n    x: 0,\n    y: 0\n}, DEFAULT_COMMON_STYLE);\nexport var DEFAULT_IMAGE_ANIMATION_PROPS = {\n    style: defaults({\n        x: true,\n        y: true,\n        width: true,\n        height: true,\n        sx: true,\n        sy: true,\n        sWidth: true,\n        sHeight: true\n    }, DEFAULT_COMMON_ANIMATION_PROPS.style)\n};\nfunction isImageLike(source) {\n    return !!(source\n        && typeof source !== 'string'\n        && source.width && source.height);\n}\nvar ZRImage = (function (_super) {\n    __extends(ZRImage, _super);\n    function ZRImage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ZRImage.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_IMAGE_STYLE, obj);\n    };\n    ZRImage.prototype._getSize = function (dim) {\n        var style = this.style;\n        var size = style[dim];\n        if (size != null) {\n            return size;\n        }\n        var imageSource = isImageLike(style.image)\n            ? style.image : this.__image;\n        if (!imageSource) {\n            return 0;\n        }\n        var otherDim = dim === 'width' ? 'height' : 'width';\n        var otherDimSize = style[otherDim];\n        if (otherDimSize == null) {\n            return imageSource[dim];\n        }\n        else {\n            return imageSource[dim] / imageSource[otherDim] * otherDimSize;\n        }\n    };\n    ZRImage.prototype.getWidth = function () {\n        return this._getSize('width');\n    };\n    ZRImage.prototype.getHeight = function () {\n        return this._getSize('height');\n    };\n    ZRImage.prototype.getAnimationStyleProps = function () {\n        return DEFAULT_IMAGE_ANIMATION_PROPS;\n    };\n    ZRImage.prototype.getBoundingRect = function () {\n        var style = this.style;\n        if (!this._rect) {\n            this._rect = new BoundingRect(style.x || 0, style.y || 0, this.getWidth(), this.getHeight());\n        }\n        return this._rect;\n    };\n    return ZRImage;\n}(Displayable));\nZRImage.prototype.type = 'image';\nexport default ZRImage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
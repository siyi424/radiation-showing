{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\"; // TODO depends on DataZoom and Brush\n\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BrushController from '../../helper/BrushController.js';\nimport BrushTargetManager from '../../helper/BrushTargetManager.js';\nimport * as history from '../../dataZoom/history.js';\nimport sliderMove from '../../helper/sliderMove.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { makeInternalComponentId, parseFinder } from '../../../util/model.js';\nimport { registerInternalOptionCreator } from '../../../model/internalComponentCreator.js';\nvar each = zrUtil.each;\nvar DATA_ZOOM_ID_BASE = makeInternalComponentId('toolbox-dataZoom_');\nvar ICON_TYPES = ['zoom', 'back'];\n\nvar DataZoomFeature =\n/** @class */\nfunction (_super) {\n  __extends(DataZoomFeature, _super);\n\n  function DataZoomFeature() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DataZoomFeature.prototype.render = function (featureModel, ecModel, api, payload) {\n    if (!this._brushController) {\n      this._brushController = new BrushController(api.getZr());\n\n      this._brushController.on('brush', zrUtil.bind(this._onBrush, this)).mount();\n    }\n\n    updateZoomBtnStatus(featureModel, ecModel, this, payload, api);\n    updateBackBtnStatus(featureModel, ecModel);\n  };\n\n  DataZoomFeature.prototype.onclick = function (ecModel, api, type) {\n    handlers[type].call(this);\n  };\n\n  DataZoomFeature.prototype.remove = function (ecModel, api) {\n    this._brushController && this._brushController.unmount();\n  };\n\n  DataZoomFeature.prototype.dispose = function (ecModel, api) {\n    this._brushController && this._brushController.dispose();\n  };\n\n  DataZoomFeature.prototype._onBrush = function (eventParam) {\n    var areas = eventParam.areas;\n\n    if (!eventParam.isEnd || !areas.length) {\n      return;\n    }\n\n    var snapshot = {};\n    var ecModel = this.ecModel;\n\n    this._brushController.updateCovers([]); // remove cover\n\n\n    var brushTargetManager = new BrushTargetManager(makeAxisFinder(this.model), ecModel, {\n      include: ['grid']\n    });\n    brushTargetManager.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n      if (coordSys.type !== 'cartesian2d') {\n        return;\n      }\n\n      var brushType = area.brushType;\n\n      if (brushType === 'rect') {\n        setBatch('x', coordSys, coordRange[0]);\n        setBatch('y', coordSys, coordRange[1]);\n      } else {\n        setBatch({\n          lineX: 'x',\n          lineY: 'y'\n        }[brushType], coordSys, coordRange);\n      }\n    });\n    history.push(ecModel, snapshot);\n\n    this._dispatchZoomAction(snapshot);\n\n    function setBatch(dimName, coordSys, minMax) {\n      var axis = coordSys.getAxis(dimName);\n      var axisModel = axis.model;\n      var dataZoomModel = findDataZoom(dimName, axisModel, ecModel); // Restrict range.\n\n      var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();\n\n      if (minMaxSpan.minValueSpan != null || minMaxSpan.maxValueSpan != null) {\n        minMax = sliderMove(0, minMax.slice(), axis.scale.getExtent(), 0, minMaxSpan.minValueSpan, minMaxSpan.maxValueSpan);\n      }\n\n      dataZoomModel && (snapshot[dataZoomModel.id] = {\n        dataZoomId: dataZoomModel.id,\n        startValue: minMax[0],\n        endValue: minMax[1]\n      });\n    }\n\n    function findDataZoom(dimName, axisModel, ecModel) {\n      var found;\n      ecModel.eachComponent({\n        mainType: 'dataZoom',\n        subType: 'select'\n      }, function (dzModel) {\n        var has = dzModel.getAxisModel(dimName, axisModel.componentIndex);\n        has && (found = dzModel);\n      });\n      return found;\n    }\n  };\n\n  ;\n\n  DataZoomFeature.prototype._dispatchZoomAction = function (snapshot) {\n    var batch = []; // Convert from hash map to array.\n\n    each(snapshot, function (batchItem, dataZoomId) {\n      batch.push(zrUtil.clone(batchItem));\n    });\n    batch.length && this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      batch: batch\n    });\n  };\n\n  DataZoomFeature.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      filterMode: 'filter',\n      // Icon group\n      icon: {\n        zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',\n        back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26'\n      },\n      // `zoom`, `back`\n      title: ecModel.getLocaleModel().get(['toolbox', 'dataZoom', 'title']),\n      brushStyle: {\n        borderWidth: 0,\n        color: 'rgba(210,219,238,0.2)'\n      }\n    };\n    return defaultOption;\n  };\n\n  return DataZoomFeature;\n}(ToolboxFeature);\n\nvar handlers = {\n  zoom: function () {\n    var nextActive = !this._isZoomActive;\n    this.api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'dataZoomSelect',\n      dataZoomSelectActive: nextActive\n    });\n  },\n  back: function () {\n    this._dispatchZoomAction(history.pop(this.ecModel));\n  }\n};\n\nfunction makeAxisFinder(dzFeatureModel) {\n  var setting = {\n    xAxisIndex: dzFeatureModel.get('xAxisIndex', true),\n    yAxisIndex: dzFeatureModel.get('yAxisIndex', true),\n    xAxisId: dzFeatureModel.get('xAxisId', true),\n    yAxisId: dzFeatureModel.get('yAxisId', true)\n  }; // If both `xAxisIndex` `xAxisId` not set, it means 'all'.\n  // If both `yAxisIndex` `yAxisId` not set, it means 'all'.\n  // Some old cases set like this below to close yAxis control but leave xAxis control:\n  // `{ feature: { dataZoom: { yAxisIndex: false } }`.\n\n  if (setting.xAxisIndex == null && setting.xAxisId == null) {\n    setting.xAxisIndex = 'all';\n  }\n\n  if (setting.yAxisIndex == null && setting.yAxisId == null) {\n    setting.yAxisIndex = 'all';\n  }\n\n  return setting;\n}\n\nfunction updateBackBtnStatus(featureModel, ecModel) {\n  featureModel.setIconStatus('back', history.count(ecModel) > 1 ? 'emphasis' : 'normal');\n}\n\nfunction updateZoomBtnStatus(featureModel, ecModel, view, payload, api) {\n  var zoomActive = view._isZoomActive;\n\n  if (payload && payload.type === 'takeGlobalCursor') {\n    zoomActive = payload.key === 'dataZoomSelect' ? payload.dataZoomSelectActive : false;\n  }\n\n  view._isZoomActive = zoomActive;\n  featureModel.setIconStatus('zoom', zoomActive ? 'emphasis' : 'normal');\n  var brushTargetManager = new BrushTargetManager(makeAxisFinder(featureModel), ecModel, {\n    include: ['grid']\n  });\n  var panels = brushTargetManager.makePanelOpts(api, function (targetInfo) {\n    return targetInfo.xAxisDeclared && !targetInfo.yAxisDeclared ? 'lineX' : !targetInfo.xAxisDeclared && targetInfo.yAxisDeclared ? 'lineY' : 'rect';\n  });\n\n  view._brushController.setPanels(panels).enableBrush(zoomActive && panels.length ? {\n    brushType: 'auto',\n    brushStyle: featureModel.getModel('brushStyle').getItemStyle()\n  } : false);\n}\n\nregisterInternalOptionCreator('dataZoom', function (ecModel) {\n  var toolboxModel = ecModel.getComponent('toolbox', 0);\n  var featureDataZoomPath = ['feature', 'dataZoom'];\n\n  if (!toolboxModel || toolboxModel.get(featureDataZoomPath) == null) {\n    return;\n  }\n\n  var dzFeatureModel = toolboxModel.getModel(featureDataZoomPath);\n  var dzOptions = [];\n  var finder = makeAxisFinder(dzFeatureModel);\n  var finderResult = parseFinder(ecModel, finder);\n  each(finderResult.xAxisModels, function (axisModel) {\n    return buildInternalOptions(axisModel, 'xAxis', 'xAxisIndex');\n  });\n  each(finderResult.yAxisModels, function (axisModel) {\n    return buildInternalOptions(axisModel, 'yAxis', 'yAxisIndex');\n  });\n\n  function buildInternalOptions(axisModel, axisMainType, axisIndexPropName) {\n    var axisIndex = axisModel.componentIndex;\n    var newOpt = {\n      type: 'select',\n      $fromToolbox: true,\n      // Default to be filter\n      filterMode: dzFeatureModel.get('filterMode', true) || 'filter',\n      // Id for merge mapping.\n      id: DATA_ZOOM_ID_BASE + axisMainType + axisIndex\n    };\n    newOpt[axisIndexPropName] = axisIndex;\n    dzOptions.push(newOpt);\n  }\n\n  return dzOptions;\n});\nexport default DataZoomFeature;","map":{"version":3,"names":["__extends","zrUtil","BrushController","BrushTargetManager","history","sliderMove","ToolboxFeature","makeInternalComponentId","parseFinder","registerInternalOptionCreator","each","DATA_ZOOM_ID_BASE","ICON_TYPES","DataZoomFeature","_super","apply","arguments","prototype","render","featureModel","ecModel","api","payload","_brushController","getZr","on","bind","_onBrush","mount","updateZoomBtnStatus","updateBackBtnStatus","onclick","type","handlers","call","remove","unmount","dispose","eventParam","areas","isEnd","length","snapshot","updateCovers","brushTargetManager","makeAxisFinder","model","include","matchOutputRanges","area","coordRange","coordSys","brushType","setBatch","lineX","lineY","push","_dispatchZoomAction","dimName","minMax","axis","getAxis","axisModel","dataZoomModel","findDataZoom","minMaxSpan","findRepresentativeAxisProxy","getMinMaxSpan","minValueSpan","maxValueSpan","slice","scale","getExtent","id","dataZoomId","startValue","endValue","found","eachComponent","mainType","subType","dzModel","has","getAxisModel","componentIndex","batch","batchItem","clone","dispatchAction","from","uid","getDefaultOption","defaultOption","show","filterMode","icon","zoom","back","title","getLocaleModel","get","brushStyle","borderWidth","color","nextActive","_isZoomActive","key","dataZoomSelectActive","pop","dzFeatureModel","setting","xAxisIndex","yAxisIndex","xAxisId","yAxisId","setIconStatus","count","view","zoomActive","panels","makePanelOpts","targetInfo","xAxisDeclared","yAxisDeclared","setPanels","enableBrush","getModel","getItemStyle","toolboxModel","getComponent","featureDataZoomPath","dzOptions","finder","finderResult","xAxisModels","buildInternalOptions","yAxisModels","axisMainType","axisIndexPropName","axisIndex","newOpt","$fromToolbox"],"sources":["/home/siyi/Projects/radi-demo/radi-showing/node_modules/echarts/lib/component/toolbox/feature/DataZoom.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\"; // TODO depends on DataZoom and Brush\n\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BrushController from '../../helper/BrushController.js';\nimport BrushTargetManager from '../../helper/BrushTargetManager.js';\nimport * as history from '../../dataZoom/history.js';\nimport sliderMove from '../../helper/sliderMove.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { makeInternalComponentId, parseFinder } from '../../../util/model.js';\nimport { registerInternalOptionCreator } from '../../../model/internalComponentCreator.js';\nvar each = zrUtil.each;\nvar DATA_ZOOM_ID_BASE = makeInternalComponentId('toolbox-dataZoom_');\nvar ICON_TYPES = ['zoom', 'back'];\n\nvar DataZoomFeature =\n/** @class */\nfunction (_super) {\n  __extends(DataZoomFeature, _super);\n\n  function DataZoomFeature() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DataZoomFeature.prototype.render = function (featureModel, ecModel, api, payload) {\n    if (!this._brushController) {\n      this._brushController = new BrushController(api.getZr());\n\n      this._brushController.on('brush', zrUtil.bind(this._onBrush, this)).mount();\n    }\n\n    updateZoomBtnStatus(featureModel, ecModel, this, payload, api);\n    updateBackBtnStatus(featureModel, ecModel);\n  };\n\n  DataZoomFeature.prototype.onclick = function (ecModel, api, type) {\n    handlers[type].call(this);\n  };\n\n  DataZoomFeature.prototype.remove = function (ecModel, api) {\n    this._brushController && this._brushController.unmount();\n  };\n\n  DataZoomFeature.prototype.dispose = function (ecModel, api) {\n    this._brushController && this._brushController.dispose();\n  };\n\n  DataZoomFeature.prototype._onBrush = function (eventParam) {\n    var areas = eventParam.areas;\n\n    if (!eventParam.isEnd || !areas.length) {\n      return;\n    }\n\n    var snapshot = {};\n    var ecModel = this.ecModel;\n\n    this._brushController.updateCovers([]); // remove cover\n\n\n    var brushTargetManager = new BrushTargetManager(makeAxisFinder(this.model), ecModel, {\n      include: ['grid']\n    });\n    brushTargetManager.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n      if (coordSys.type !== 'cartesian2d') {\n        return;\n      }\n\n      var brushType = area.brushType;\n\n      if (brushType === 'rect') {\n        setBatch('x', coordSys, coordRange[0]);\n        setBatch('y', coordSys, coordRange[1]);\n      } else {\n        setBatch({\n          lineX: 'x',\n          lineY: 'y'\n        }[brushType], coordSys, coordRange);\n      }\n    });\n    history.push(ecModel, snapshot);\n\n    this._dispatchZoomAction(snapshot);\n\n    function setBatch(dimName, coordSys, minMax) {\n      var axis = coordSys.getAxis(dimName);\n      var axisModel = axis.model;\n      var dataZoomModel = findDataZoom(dimName, axisModel, ecModel); // Restrict range.\n\n      var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();\n\n      if (minMaxSpan.minValueSpan != null || minMaxSpan.maxValueSpan != null) {\n        minMax = sliderMove(0, minMax.slice(), axis.scale.getExtent(), 0, minMaxSpan.minValueSpan, minMaxSpan.maxValueSpan);\n      }\n\n      dataZoomModel && (snapshot[dataZoomModel.id] = {\n        dataZoomId: dataZoomModel.id,\n        startValue: minMax[0],\n        endValue: minMax[1]\n      });\n    }\n\n    function findDataZoom(dimName, axisModel, ecModel) {\n      var found;\n      ecModel.eachComponent({\n        mainType: 'dataZoom',\n        subType: 'select'\n      }, function (dzModel) {\n        var has = dzModel.getAxisModel(dimName, axisModel.componentIndex);\n        has && (found = dzModel);\n      });\n      return found;\n    }\n  };\n\n  ;\n\n  DataZoomFeature.prototype._dispatchZoomAction = function (snapshot) {\n    var batch = []; // Convert from hash map to array.\n\n    each(snapshot, function (batchItem, dataZoomId) {\n      batch.push(zrUtil.clone(batchItem));\n    });\n    batch.length && this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      batch: batch\n    });\n  };\n\n  DataZoomFeature.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      filterMode: 'filter',\n      // Icon group\n      icon: {\n        zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',\n        back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26'\n      },\n      // `zoom`, `back`\n      title: ecModel.getLocaleModel().get(['toolbox', 'dataZoom', 'title']),\n      brushStyle: {\n        borderWidth: 0,\n        color: 'rgba(210,219,238,0.2)'\n      }\n    };\n    return defaultOption;\n  };\n\n  return DataZoomFeature;\n}(ToolboxFeature);\n\nvar handlers = {\n  zoom: function () {\n    var nextActive = !this._isZoomActive;\n    this.api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'dataZoomSelect',\n      dataZoomSelectActive: nextActive\n    });\n  },\n  back: function () {\n    this._dispatchZoomAction(history.pop(this.ecModel));\n  }\n};\n\nfunction makeAxisFinder(dzFeatureModel) {\n  var setting = {\n    xAxisIndex: dzFeatureModel.get('xAxisIndex', true),\n    yAxisIndex: dzFeatureModel.get('yAxisIndex', true),\n    xAxisId: dzFeatureModel.get('xAxisId', true),\n    yAxisId: dzFeatureModel.get('yAxisId', true)\n  }; // If both `xAxisIndex` `xAxisId` not set, it means 'all'.\n  // If both `yAxisIndex` `yAxisId` not set, it means 'all'.\n  // Some old cases set like this below to close yAxis control but leave xAxis control:\n  // `{ feature: { dataZoom: { yAxisIndex: false } }`.\n\n  if (setting.xAxisIndex == null && setting.xAxisId == null) {\n    setting.xAxisIndex = 'all';\n  }\n\n  if (setting.yAxisIndex == null && setting.yAxisId == null) {\n    setting.yAxisIndex = 'all';\n  }\n\n  return setting;\n}\n\nfunction updateBackBtnStatus(featureModel, ecModel) {\n  featureModel.setIconStatus('back', history.count(ecModel) > 1 ? 'emphasis' : 'normal');\n}\n\nfunction updateZoomBtnStatus(featureModel, ecModel, view, payload, api) {\n  var zoomActive = view._isZoomActive;\n\n  if (payload && payload.type === 'takeGlobalCursor') {\n    zoomActive = payload.key === 'dataZoomSelect' ? payload.dataZoomSelectActive : false;\n  }\n\n  view._isZoomActive = zoomActive;\n  featureModel.setIconStatus('zoom', zoomActive ? 'emphasis' : 'normal');\n  var brushTargetManager = new BrushTargetManager(makeAxisFinder(featureModel), ecModel, {\n    include: ['grid']\n  });\n  var panels = brushTargetManager.makePanelOpts(api, function (targetInfo) {\n    return targetInfo.xAxisDeclared && !targetInfo.yAxisDeclared ? 'lineX' : !targetInfo.xAxisDeclared && targetInfo.yAxisDeclared ? 'lineY' : 'rect';\n  });\n\n  view._brushController.setPanels(panels).enableBrush(zoomActive && panels.length ? {\n    brushType: 'auto',\n    brushStyle: featureModel.getModel('brushStyle').getItemStyle()\n  } : false);\n}\n\nregisterInternalOptionCreator('dataZoom', function (ecModel) {\n  var toolboxModel = ecModel.getComponent('toolbox', 0);\n  var featureDataZoomPath = ['feature', 'dataZoom'];\n\n  if (!toolboxModel || toolboxModel.get(featureDataZoomPath) == null) {\n    return;\n  }\n\n  var dzFeatureModel = toolboxModel.getModel(featureDataZoomPath);\n  var dzOptions = [];\n  var finder = makeAxisFinder(dzFeatureModel);\n  var finderResult = parseFinder(ecModel, finder);\n  each(finderResult.xAxisModels, function (axisModel) {\n    return buildInternalOptions(axisModel, 'xAxis', 'xAxisIndex');\n  });\n  each(finderResult.yAxisModels, function (axisModel) {\n    return buildInternalOptions(axisModel, 'yAxis', 'yAxisIndex');\n  });\n\n  function buildInternalOptions(axisModel, axisMainType, axisIndexPropName) {\n    var axisIndex = axisModel.componentIndex;\n    var newOpt = {\n      type: 'select',\n      $fromToolbox: true,\n      // Default to be filter\n      filterMode: dzFeatureModel.get('filterMode', true) || 'filter',\n      // Id for merge mapping.\n      id: DATA_ZOOM_ID_BASE + axisMainType + axisIndex\n    };\n    newOpt[axisIndexPropName] = axisIndex;\n    dzOptions.push(newOpt);\n  }\n\n  return dzOptions;\n});\nexport default DataZoomFeature;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
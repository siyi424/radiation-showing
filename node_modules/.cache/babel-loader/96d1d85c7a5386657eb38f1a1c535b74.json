{"ast":null,"code":"function isSafeNum(num) {\n  return isFinite(num);\n}\n\nexport function createLinearGradient(ctx, obj, rect) {\n  var x = obj.x == null ? 0 : obj.x;\n  var x2 = obj.x2 == null ? 1 : obj.x2;\n  var y = obj.y == null ? 0 : obj.y;\n  var y2 = obj.y2 == null ? 0 : obj.y2;\n\n  if (!obj.global) {\n    x = x * rect.width + rect.x;\n    x2 = x2 * rect.width + rect.x;\n    y = y * rect.height + rect.y;\n    y2 = y2 * rect.height + rect.y;\n  }\n\n  x = isSafeNum(x) ? x : 0;\n  x2 = isSafeNum(x2) ? x2 : 1;\n  y = isSafeNum(y) ? y : 0;\n  y2 = isSafeNum(y2) ? y2 : 0;\n  var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n  return canvasGradient;\n}\nexport function createRadialGradient(ctx, obj, rect) {\n  var width = rect.width;\n  var height = rect.height;\n  var min = Math.min(width, height);\n  var x = obj.x == null ? 0.5 : obj.x;\n  var y = obj.y == null ? 0.5 : obj.y;\n  var r = obj.r == null ? 0.5 : obj.r;\n\n  if (!obj.global) {\n    x = x * width + rect.x;\n    y = y * height + rect.y;\n    r = r * min;\n  }\n\n  x = isSafeNum(x) ? x : 0.5;\n  y = isSafeNum(y) ? y : 0.5;\n  r = r >= 0 && isSafeNum(r) ? r : 0.5;\n  var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n  return canvasGradient;\n}\nexport function getCanvasGradient(ctx, obj, rect) {\n  var canvasGradient = obj.type === 'radial' ? createRadialGradient(ctx, obj, rect) : createLinearGradient(ctx, obj, rect);\n  var colorStops = obj.colorStops;\n\n  for (var i = 0; i < colorStops.length; i++) {\n    canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n  }\n\n  return canvasGradient;\n}\nexport function isClipPathChanged(clipPaths, prevClipPaths) {\n  if (clipPaths === prevClipPaths || !clipPaths && !prevClipPaths) {\n    return false;\n  }\n\n  if (!clipPaths || !prevClipPaths || clipPaths.length !== prevClipPaths.length) {\n    return true;\n  }\n\n  for (var i = 0; i < clipPaths.length; i++) {\n    if (clipPaths[i] !== prevClipPaths[i]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction parseInt10(val) {\n  return parseInt(val, 10);\n}\n\nexport function getSize(root, whIdx, opts) {\n  var wh = ['width', 'height'][whIdx];\n  var cwh = ['clientWidth', 'clientHeight'][whIdx];\n  var plt = ['paddingLeft', 'paddingTop'][whIdx];\n  var prb = ['paddingRight', 'paddingBottom'][whIdx];\n\n  if (opts[wh] != null && opts[wh] !== 'auto') {\n    return parseFloat(opts[wh]);\n  }\n\n  var stl = document.defaultView.getComputedStyle(root);\n  return (root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh])) - (parseInt10(stl[plt]) || 0) - (parseInt10(stl[prb]) || 0) | 0;\n}","map":{"version":3,"names":["isSafeNum","num","isFinite","createLinearGradient","ctx","obj","rect","x","x2","y","y2","global","width","height","canvasGradient","createRadialGradient","min","Math","r","getCanvasGradient","type","colorStops","i","length","addColorStop","offset","color","isClipPathChanged","clipPaths","prevClipPaths","parseInt10","val","parseInt","getSize","root","whIdx","opts","wh","cwh","plt","prb","parseFloat","stl","document","defaultView","getComputedStyle","style"],"sources":["/home/siyi/Projects/radi-demo/radi-showing/node_modules/zrender/lib/canvas/helper.js"],"sourcesContent":["function isSafeNum(num) {\n    return isFinite(num);\n}\nexport function createLinearGradient(ctx, obj, rect) {\n    var x = obj.x == null ? 0 : obj.x;\n    var x2 = obj.x2 == null ? 1 : obj.x2;\n    var y = obj.y == null ? 0 : obj.y;\n    var y2 = obj.y2 == null ? 0 : obj.y2;\n    if (!obj.global) {\n        x = x * rect.width + rect.x;\n        x2 = x2 * rect.width + rect.x;\n        y = y * rect.height + rect.y;\n        y2 = y2 * rect.height + rect.y;\n    }\n    x = isSafeNum(x) ? x : 0;\n    x2 = isSafeNum(x2) ? x2 : 1;\n    y = isSafeNum(y) ? y : 0;\n    y2 = isSafeNum(y2) ? y2 : 0;\n    var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n    return canvasGradient;\n}\nexport function createRadialGradient(ctx, obj, rect) {\n    var width = rect.width;\n    var height = rect.height;\n    var min = Math.min(width, height);\n    var x = obj.x == null ? 0.5 : obj.x;\n    var y = obj.y == null ? 0.5 : obj.y;\n    var r = obj.r == null ? 0.5 : obj.r;\n    if (!obj.global) {\n        x = x * width + rect.x;\n        y = y * height + rect.y;\n        r = r * min;\n    }\n    x = isSafeNum(x) ? x : 0.5;\n    y = isSafeNum(y) ? y : 0.5;\n    r = r >= 0 && isSafeNum(r) ? r : 0.5;\n    var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n    return canvasGradient;\n}\nexport function getCanvasGradient(ctx, obj, rect) {\n    var canvasGradient = obj.type === 'radial'\n        ? createRadialGradient(ctx, obj, rect)\n        : createLinearGradient(ctx, obj, rect);\n    var colorStops = obj.colorStops;\n    for (var i = 0; i < colorStops.length; i++) {\n        canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n    }\n    return canvasGradient;\n}\nexport function isClipPathChanged(clipPaths, prevClipPaths) {\n    if (clipPaths === prevClipPaths || (!clipPaths && !prevClipPaths)) {\n        return false;\n    }\n    if (!clipPaths || !prevClipPaths || (clipPaths.length !== prevClipPaths.length)) {\n        return true;\n    }\n    for (var i = 0; i < clipPaths.length; i++) {\n        if (clipPaths[i] !== prevClipPaths[i]) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseInt10(val) {\n    return parseInt(val, 10);\n}\nexport function getSize(root, whIdx, opts) {\n    var wh = ['width', 'height'][whIdx];\n    var cwh = ['clientWidth', 'clientHeight'][whIdx];\n    var plt = ['paddingLeft', 'paddingTop'][whIdx];\n    var prb = ['paddingRight', 'paddingBottom'][whIdx];\n    if (opts[wh] != null && opts[wh] !== 'auto') {\n        return parseFloat(opts[wh]);\n    }\n    var stl = document.defaultView.getComputedStyle(root);\n    return ((root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh]))\n        - (parseInt10(stl[plt]) || 0)\n        - (parseInt10(stl[prb]) || 0)) | 0;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Link lists and struct (graph or tree)\n */\nimport { curry, each, assert, extend, map, keys } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\n\nfunction linkSeriesData(opt) {\n  var mainData = opt.mainData;\n  var datas = opt.datas;\n\n  if (!datas) {\n    datas = {\n      main: mainData\n    };\n    opt.datasAttr = {\n      main: 'data'\n    };\n  }\n\n  opt.datas = opt.mainData = null;\n  linkAll(mainData, datas, opt); // Porxy data original methods.\n\n  each(datas, function (data) {\n    each(mainData.TRANSFERABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, curry(transferInjection, opt));\n    });\n  }); // Beyond transfer, additional features should be added to `cloneShallow`.\n\n  mainData.wrapMethod('cloneShallow', curry(cloneShallowInjection, opt)); // Only mainData trigger change, because struct.update may trigger\n  // another changable methods, which may bring about dead lock.\n\n  each(mainData.CHANGABLE_METHODS, function (methodName) {\n    mainData.wrapMethod(methodName, curry(changeInjection, opt));\n  }); // Make sure datas contains mainData.\n\n  assert(datas[mainData.dataType] === mainData);\n}\n\nfunction transferInjection(opt, res) {\n  if (isMainData(this)) {\n    // Transfer datas to new main data.\n    var datas = extend({}, inner(this).datas);\n    datas[this.dataType] = res;\n    linkAll(res, datas, opt);\n  } else {\n    // Modify the reference in main data to point newData.\n    linkSingle(res, this.dataType, inner(this).mainData, opt);\n  }\n\n  return res;\n}\n\nfunction changeInjection(opt, res) {\n  opt.struct && opt.struct.update();\n  return res;\n}\n\nfunction cloneShallowInjection(opt, res) {\n  // cloneShallow, which brings about some fragilities, may be inappropriate\n  // to be exposed as an API. So for implementation simplicity we can make\n  // the restriction that cloneShallow of not-mainData should not be invoked\n  // outside, but only be invoked here.\n  each(inner(res).datas, function (data, dataType) {\n    data !== res && linkSingle(data.cloneShallow(), dataType, res, opt);\n  });\n  return res;\n}\n/**\n * Supplement method to List.\n *\n * @public\n * @param [dataType] If not specified, return mainData.\n */\n\n\nfunction getLinkedData(dataType) {\n  var mainData = inner(this).mainData;\n  return dataType == null || mainData == null ? mainData : inner(mainData).datas[dataType];\n}\n/**\n * Get list of all linked data\n */\n\n\nfunction getLinkedDataAll() {\n  var mainData = inner(this).mainData;\n  return mainData == null ? [{\n    data: mainData\n  }] : map(keys(inner(mainData).datas), function (type) {\n    return {\n      type: type,\n      data: inner(mainData).datas[type]\n    };\n  });\n}\n\nfunction isMainData(data) {\n  return inner(data).mainData === data;\n}\n\nfunction linkAll(mainData, datas, opt) {\n  inner(mainData).datas = {};\n  each(datas, function (data, dataType) {\n    linkSingle(data, dataType, mainData, opt);\n  });\n}\n\nfunction linkSingle(data, dataType, mainData, opt) {\n  inner(mainData).datas[dataType] = data;\n  inner(data).mainData = mainData;\n  data.dataType = dataType;\n\n  if (opt.struct) {\n    data[opt.structAttr] = opt.struct;\n    opt.struct[opt.datasAttr[dataType]] = data;\n  } // Supplement method.\n\n\n  data.getLinkedData = getLinkedData;\n  data.getLinkedDataAll = getLinkedDataAll;\n}\n\nexport default linkSeriesData;","map":{"version":3,"names":["curry","each","assert","extend","map","keys","makeInner","inner","linkSeriesData","opt","mainData","datas","main","datasAttr","linkAll","data","TRANSFERABLE_METHODS","methodName","wrapMethod","transferInjection","cloneShallowInjection","CHANGABLE_METHODS","changeInjection","dataType","res","isMainData","linkSingle","struct","update","cloneShallow","getLinkedData","getLinkedDataAll","type","structAttr"],"sources":["/home/siyi/Projects/radi-demo/radi-showing/node_modules/echarts/lib/data/helper/linkSeriesData.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Link lists and struct (graph or tree)\n */\nimport { curry, each, assert, extend, map, keys } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\n\nfunction linkSeriesData(opt) {\n  var mainData = opt.mainData;\n  var datas = opt.datas;\n\n  if (!datas) {\n    datas = {\n      main: mainData\n    };\n    opt.datasAttr = {\n      main: 'data'\n    };\n  }\n\n  opt.datas = opt.mainData = null;\n  linkAll(mainData, datas, opt); // Porxy data original methods.\n\n  each(datas, function (data) {\n    each(mainData.TRANSFERABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, curry(transferInjection, opt));\n    });\n  }); // Beyond transfer, additional features should be added to `cloneShallow`.\n\n  mainData.wrapMethod('cloneShallow', curry(cloneShallowInjection, opt)); // Only mainData trigger change, because struct.update may trigger\n  // another changable methods, which may bring about dead lock.\n\n  each(mainData.CHANGABLE_METHODS, function (methodName) {\n    mainData.wrapMethod(methodName, curry(changeInjection, opt));\n  }); // Make sure datas contains mainData.\n\n  assert(datas[mainData.dataType] === mainData);\n}\n\nfunction transferInjection(opt, res) {\n  if (isMainData(this)) {\n    // Transfer datas to new main data.\n    var datas = extend({}, inner(this).datas);\n    datas[this.dataType] = res;\n    linkAll(res, datas, opt);\n  } else {\n    // Modify the reference in main data to point newData.\n    linkSingle(res, this.dataType, inner(this).mainData, opt);\n  }\n\n  return res;\n}\n\nfunction changeInjection(opt, res) {\n  opt.struct && opt.struct.update();\n  return res;\n}\n\nfunction cloneShallowInjection(opt, res) {\n  // cloneShallow, which brings about some fragilities, may be inappropriate\n  // to be exposed as an API. So for implementation simplicity we can make\n  // the restriction that cloneShallow of not-mainData should not be invoked\n  // outside, but only be invoked here.\n  each(inner(res).datas, function (data, dataType) {\n    data !== res && linkSingle(data.cloneShallow(), dataType, res, opt);\n  });\n  return res;\n}\n/**\n * Supplement method to List.\n *\n * @public\n * @param [dataType] If not specified, return mainData.\n */\n\n\nfunction getLinkedData(dataType) {\n  var mainData = inner(this).mainData;\n  return dataType == null || mainData == null ? mainData : inner(mainData).datas[dataType];\n}\n/**\n * Get list of all linked data\n */\n\n\nfunction getLinkedDataAll() {\n  var mainData = inner(this).mainData;\n  return mainData == null ? [{\n    data: mainData\n  }] : map(keys(inner(mainData).datas), function (type) {\n    return {\n      type: type,\n      data: inner(mainData).datas[type]\n    };\n  });\n}\n\nfunction isMainData(data) {\n  return inner(data).mainData === data;\n}\n\nfunction linkAll(mainData, datas, opt) {\n  inner(mainData).datas = {};\n  each(datas, function (data, dataType) {\n    linkSingle(data, dataType, mainData, opt);\n  });\n}\n\nfunction linkSingle(data, dataType, mainData, opt) {\n  inner(mainData).datas[dataType] = data;\n  inner(data).mainData = mainData;\n  data.dataType = dataType;\n\n  if (opt.struct) {\n    data[opt.structAttr] = opt.struct;\n    opt.struct[opt.datasAttr[dataType]] = data;\n  } // Supplement method.\n\n\n  data.getLinkedData = getLinkedData;\n  data.getLinkedDataAll = getLinkedDataAll;\n}\n\nexport default linkSeriesData;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
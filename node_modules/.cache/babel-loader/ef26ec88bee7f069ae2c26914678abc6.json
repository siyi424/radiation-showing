{"ast":null,"code":"import { isAroundZero } from './helper.js';\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nvar PI2 = Math.PI * 2;\nvar degree = 180 / PI;\n\nvar SVGPathRebuilder = function () {\n  function SVGPathRebuilder() {}\n\n  SVGPathRebuilder.prototype.reset = function (precision) {\n    this._start = true;\n    this._d = [];\n    this._str = '';\n    this._p = Math.pow(10, precision || 4);\n  };\n\n  SVGPathRebuilder.prototype.moveTo = function (x, y) {\n    this._add('M', x, y);\n  };\n\n  SVGPathRebuilder.prototype.lineTo = function (x, y) {\n    this._add('L', x, y);\n  };\n\n  SVGPathRebuilder.prototype.bezierCurveTo = function (x, y, x2, y2, x3, y3) {\n    this._add('C', x, y, x2, y2, x3, y3);\n  };\n\n  SVGPathRebuilder.prototype.quadraticCurveTo = function (x, y, x2, y2) {\n    this._add('Q', x, y, x2, y2);\n  };\n\n  SVGPathRebuilder.prototype.arc = function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n    this.ellipse(cx, cy, r, r, 0, startAngle, endAngle, anticlockwise);\n  };\n\n  SVGPathRebuilder.prototype.ellipse = function (cx, cy, rx, ry, psi, startAngle, endAngle, anticlockwise) {\n    var dTheta = endAngle - startAngle;\n    var clockwise = !anticlockwise;\n    var dThetaPositive = Math.abs(dTheta);\n    var isCircle = isAroundZero(dThetaPositive - PI2) || (clockwise ? dTheta >= PI2 : -dTheta >= PI2);\n    var unifiedTheta = dTheta > 0 ? dTheta % PI2 : dTheta % PI2 + PI2;\n    var large = false;\n\n    if (isCircle) {\n      large = true;\n    } else if (isAroundZero(dThetaPositive)) {\n      large = false;\n    } else {\n      large = unifiedTheta >= PI === !!clockwise;\n    }\n\n    var x0 = cx + rx * mathCos(startAngle);\n    var y0 = cy + ry * mathSin(startAngle);\n\n    if (this._start) {\n      this._add('M', x0, y0);\n    }\n\n    var xRot = Math.round(psi * degree);\n\n    if (isCircle) {\n      var p = 1 / this._p;\n      var dTheta_1 = (clockwise ? 1 : -1) * (PI2 - p);\n\n      this._add('A', rx, ry, xRot, 1, +clockwise, cx + rx * mathCos(startAngle + dTheta_1), cy + ry * mathSin(startAngle + dTheta_1));\n\n      if (p > 1e-2) {\n        this._add('A', rx, ry, xRot, 0, +clockwise, x0, y0);\n      }\n    } else {\n      var x = cx + rx * mathCos(endAngle);\n      var y = cy + ry * mathSin(endAngle);\n\n      this._add('A', rx, ry, xRot, +large, +clockwise, x, y);\n    }\n  };\n\n  SVGPathRebuilder.prototype.rect = function (x, y, w, h) {\n    this._add('M', x, y);\n\n    this._add('l', w, 0);\n\n    this._add('l', 0, h);\n\n    this._add('l', -w, 0);\n\n    this._add('Z');\n  };\n\n  SVGPathRebuilder.prototype.closePath = function () {\n    if (this._d.length > 0) {\n      this._add('Z');\n    }\n  };\n\n  SVGPathRebuilder.prototype._add = function (cmd, a, b, c, d, e, f, g, h) {\n    var vals = [];\n    var p = this._p;\n\n    for (var i = 1; i < arguments.length; i++) {\n      var val = arguments[i];\n\n      if (isNaN(val)) {\n        this._invalid = true;\n        return;\n      }\n\n      vals.push(Math.round(val * p) / p);\n    }\n\n    this._d.push(cmd + vals.join(' '));\n\n    this._start = cmd === 'Z';\n  };\n\n  SVGPathRebuilder.prototype.generateStr = function () {\n    this._str = this._invalid ? '' : this._d.join('');\n    this._d = [];\n  };\n\n  SVGPathRebuilder.prototype.getStr = function () {\n    return this._str;\n  };\n\n  return SVGPathRebuilder;\n}();\n\nexport default SVGPathRebuilder;","map":{"version":3,"names":["isAroundZero","mathSin","Math","sin","mathCos","cos","PI","PI2","degree","SVGPathRebuilder","prototype","reset","precision","_start","_d","_str","_p","pow","moveTo","x","y","_add","lineTo","bezierCurveTo","x2","y2","x3","y3","quadraticCurveTo","arc","cx","cy","r","startAngle","endAngle","anticlockwise","ellipse","rx","ry","psi","dTheta","clockwise","dThetaPositive","abs","isCircle","unifiedTheta","large","x0","y0","xRot","round","p","dTheta_1","rect","w","h","closePath","length","cmd","a","b","c","d","e","f","g","vals","i","arguments","val","isNaN","_invalid","push","join","generateStr","getStr"],"sources":["/home/siyi/Projects/radi-demo/radi-showing/node_modules/zrender/lib/svg/SVGPathRebuilder.js"],"sourcesContent":["import { isAroundZero } from './helper.js';\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nvar PI2 = Math.PI * 2;\nvar degree = 180 / PI;\nvar SVGPathRebuilder = (function () {\n    function SVGPathRebuilder() {\n    }\n    SVGPathRebuilder.prototype.reset = function (precision) {\n        this._start = true;\n        this._d = [];\n        this._str = '';\n        this._p = Math.pow(10, precision || 4);\n    };\n    SVGPathRebuilder.prototype.moveTo = function (x, y) {\n        this._add('M', x, y);\n    };\n    SVGPathRebuilder.prototype.lineTo = function (x, y) {\n        this._add('L', x, y);\n    };\n    SVGPathRebuilder.prototype.bezierCurveTo = function (x, y, x2, y2, x3, y3) {\n        this._add('C', x, y, x2, y2, x3, y3);\n    };\n    SVGPathRebuilder.prototype.quadraticCurveTo = function (x, y, x2, y2) {\n        this._add('Q', x, y, x2, y2);\n    };\n    SVGPathRebuilder.prototype.arc = function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n        this.ellipse(cx, cy, r, r, 0, startAngle, endAngle, anticlockwise);\n    };\n    SVGPathRebuilder.prototype.ellipse = function (cx, cy, rx, ry, psi, startAngle, endAngle, anticlockwise) {\n        var dTheta = endAngle - startAngle;\n        var clockwise = !anticlockwise;\n        var dThetaPositive = Math.abs(dTheta);\n        var isCircle = isAroundZero(dThetaPositive - PI2)\n            || (clockwise ? dTheta >= PI2 : -dTheta >= PI2);\n        var unifiedTheta = dTheta > 0 ? dTheta % PI2 : (dTheta % PI2 + PI2);\n        var large = false;\n        if (isCircle) {\n            large = true;\n        }\n        else if (isAroundZero(dThetaPositive)) {\n            large = false;\n        }\n        else {\n            large = (unifiedTheta >= PI) === !!clockwise;\n        }\n        var x0 = cx + rx * mathCos(startAngle);\n        var y0 = cy + ry * mathSin(startAngle);\n        if (this._start) {\n            this._add('M', x0, y0);\n        }\n        var xRot = Math.round(psi * degree);\n        if (isCircle) {\n            var p = 1 / this._p;\n            var dTheta_1 = (clockwise ? 1 : -1) * (PI2 - p);\n            this._add('A', rx, ry, xRot, 1, +clockwise, cx + rx * mathCos(startAngle + dTheta_1), cy + ry * mathSin(startAngle + dTheta_1));\n            if (p > 1e-2) {\n                this._add('A', rx, ry, xRot, 0, +clockwise, x0, y0);\n            }\n        }\n        else {\n            var x = cx + rx * mathCos(endAngle);\n            var y = cy + ry * mathSin(endAngle);\n            this._add('A', rx, ry, xRot, +large, +clockwise, x, y);\n        }\n    };\n    SVGPathRebuilder.prototype.rect = function (x, y, w, h) {\n        this._add('M', x, y);\n        this._add('l', w, 0);\n        this._add('l', 0, h);\n        this._add('l', -w, 0);\n        this._add('Z');\n    };\n    SVGPathRebuilder.prototype.closePath = function () {\n        if (this._d.length > 0) {\n            this._add('Z');\n        }\n    };\n    SVGPathRebuilder.prototype._add = function (cmd, a, b, c, d, e, f, g, h) {\n        var vals = [];\n        var p = this._p;\n        for (var i = 1; i < arguments.length; i++) {\n            var val = arguments[i];\n            if (isNaN(val)) {\n                this._invalid = true;\n                return;\n            }\n            vals.push(Math.round(val * p) / p);\n        }\n        this._d.push(cmd + vals.join(' '));\n        this._start = cmd === 'Z';\n    };\n    SVGPathRebuilder.prototype.generateStr = function () {\n        this._str = this._invalid ? '' : this._d.join('');\n        this._d = [];\n    };\n    SVGPathRebuilder.prototype.getStr = function () {\n        return this._str;\n    };\n    return SVGPathRebuilder;\n}());\nexport default SVGPathRebuilder;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
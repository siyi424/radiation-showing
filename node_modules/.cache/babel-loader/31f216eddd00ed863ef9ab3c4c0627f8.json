{"ast":null,"code":"import { __extends } from \"tslib\";\nimport Displayable from './Displayable.js';\nimport { getBoundingRect } from '../contain/text.js';\nimport { DEFAULT_PATH_STYLE } from './Path.js';\nimport { createObject, defaults } from '../core/util.js';\nimport { DEFAULT_FONT } from '../core/platform.js';\nexport var DEFAULT_TSPAN_STYLE = defaults({\n  strokeFirst: true,\n  font: DEFAULT_FONT,\n  x: 0,\n  y: 0,\n  textAlign: 'left',\n  textBaseline: 'top',\n  miterLimit: 2\n}, DEFAULT_PATH_STYLE);\n\nvar TSpan = function (_super) {\n  __extends(TSpan, _super);\n\n  function TSpan() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TSpan.prototype.hasStroke = function () {\n    var style = this.style;\n    var stroke = style.stroke;\n    return stroke != null && stroke !== 'none' && style.lineWidth > 0;\n  };\n\n  TSpan.prototype.hasFill = function () {\n    var style = this.style;\n    var fill = style.fill;\n    return fill != null && fill !== 'none';\n  };\n\n  TSpan.prototype.createStyle = function (obj) {\n    return createObject(DEFAULT_TSPAN_STYLE, obj);\n  };\n\n  TSpan.prototype.setBoundingRect = function (rect) {\n    this._rect = rect;\n  };\n\n  TSpan.prototype.getBoundingRect = function () {\n    var style = this.style;\n\n    if (!this._rect) {\n      var text = style.text;\n      text != null ? text += '' : text = '';\n      var rect = getBoundingRect(text, style.font, style.textAlign, style.textBaseline);\n      rect.x += style.x || 0;\n      rect.y += style.y || 0;\n\n      if (this.hasStroke()) {\n        var w = style.lineWidth;\n        rect.x -= w / 2;\n        rect.y -= w / 2;\n        rect.width += w;\n        rect.height += w;\n      }\n\n      this._rect = rect;\n    }\n\n    return this._rect;\n  };\n\n  TSpan.initDefaultProps = function () {\n    var tspanProto = TSpan.prototype;\n    tspanProto.dirtyRectTolerance = 10;\n  }();\n\n  return TSpan;\n}(Displayable);\n\nTSpan.prototype.type = 'tspan';\nexport default TSpan;","map":{"version":3,"names":["__extends","Displayable","getBoundingRect","DEFAULT_PATH_STYLE","createObject","defaults","DEFAULT_FONT","DEFAULT_TSPAN_STYLE","strokeFirst","font","x","y","textAlign","textBaseline","miterLimit","TSpan","_super","apply","arguments","prototype","hasStroke","style","stroke","lineWidth","hasFill","fill","createStyle","obj","setBoundingRect","rect","_rect","text","w","width","height","initDefaultProps","tspanProto","dirtyRectTolerance","type"],"sources":["/home/siyi/Projects/radi-demo/radi-showing/node_modules/zrender/lib/graphic/TSpan.js"],"sourcesContent":["import { __extends } from \"tslib\";\nimport Displayable from './Displayable.js';\nimport { getBoundingRect } from '../contain/text.js';\nimport { DEFAULT_PATH_STYLE } from './Path.js';\nimport { createObject, defaults } from '../core/util.js';\nimport { DEFAULT_FONT } from '../core/platform.js';\nexport var DEFAULT_TSPAN_STYLE = defaults({\n    strokeFirst: true,\n    font: DEFAULT_FONT,\n    x: 0,\n    y: 0,\n    textAlign: 'left',\n    textBaseline: 'top',\n    miterLimit: 2\n}, DEFAULT_PATH_STYLE);\nvar TSpan = (function (_super) {\n    __extends(TSpan, _super);\n    function TSpan() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TSpan.prototype.hasStroke = function () {\n        var style = this.style;\n        var stroke = style.stroke;\n        return stroke != null && stroke !== 'none' && style.lineWidth > 0;\n    };\n    TSpan.prototype.hasFill = function () {\n        var style = this.style;\n        var fill = style.fill;\n        return fill != null && fill !== 'none';\n    };\n    TSpan.prototype.createStyle = function (obj) {\n        return createObject(DEFAULT_TSPAN_STYLE, obj);\n    };\n    TSpan.prototype.setBoundingRect = function (rect) {\n        this._rect = rect;\n    };\n    TSpan.prototype.getBoundingRect = function () {\n        var style = this.style;\n        if (!this._rect) {\n            var text = style.text;\n            text != null ? (text += '') : (text = '');\n            var rect = getBoundingRect(text, style.font, style.textAlign, style.textBaseline);\n            rect.x += style.x || 0;\n            rect.y += style.y || 0;\n            if (this.hasStroke()) {\n                var w = style.lineWidth;\n                rect.x -= w / 2;\n                rect.y -= w / 2;\n                rect.width += w;\n                rect.height += w;\n            }\n            this._rect = rect;\n        }\n        return this._rect;\n    };\n    TSpan.initDefaultProps = (function () {\n        var tspanProto = TSpan.prototype;\n        tspanProto.dirtyRectTolerance = 10;\n    })();\n    return TSpan;\n}(Displayable));\nTSpan.prototype.type = 'tspan';\nexport default TSpan;\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,SAASC,eAAT,QAAgC,oBAAhC;AACA,SAASC,kBAAT,QAAmC,WAAnC;AACA,SAASC,YAAT,EAAuBC,QAAvB,QAAuC,iBAAvC;AACA,SAASC,YAAT,QAA6B,qBAA7B;AACA,OAAO,IAAIC,mBAAmB,GAAGF,QAAQ,CAAC;EACtCG,WAAW,EAAE,IADyB;EAEtCC,IAAI,EAAEH,YAFgC;EAGtCI,CAAC,EAAE,CAHmC;EAItCC,CAAC,EAAE,CAJmC;EAKtCC,SAAS,EAAE,MAL2B;EAMtCC,YAAY,EAAE,KANwB;EAOtCC,UAAU,EAAE;AAP0B,CAAD,EAQtCX,kBARsC,CAAlC;;AASP,IAAIY,KAAK,GAAI,UAAUC,MAAV,EAAkB;EAC3BhB,SAAS,CAACe,KAAD,EAAQC,MAAR,CAAT;;EACA,SAASD,KAAT,GAAiB;IACb,OAAOC,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAACC,KAAP,CAAa,IAAb,EAAmBC,SAAnB,CAAnB,IAAoD,IAA3D;EACH;;EACDH,KAAK,CAACI,SAAN,CAAgBC,SAAhB,GAA4B,YAAY;IACpC,IAAIC,KAAK,GAAG,KAAKA,KAAjB;IACA,IAAIC,MAAM,GAAGD,KAAK,CAACC,MAAnB;IACA,OAAOA,MAAM,IAAI,IAAV,IAAkBA,MAAM,KAAK,MAA7B,IAAuCD,KAAK,CAACE,SAAN,GAAkB,CAAhE;EACH,CAJD;;EAKAR,KAAK,CAACI,SAAN,CAAgBK,OAAhB,GAA0B,YAAY;IAClC,IAAIH,KAAK,GAAG,KAAKA,KAAjB;IACA,IAAII,IAAI,GAAGJ,KAAK,CAACI,IAAjB;IACA,OAAOA,IAAI,IAAI,IAAR,IAAgBA,IAAI,KAAK,MAAhC;EACH,CAJD;;EAKAV,KAAK,CAACI,SAAN,CAAgBO,WAAhB,GAA8B,UAAUC,GAAV,EAAe;IACzC,OAAOvB,YAAY,CAACG,mBAAD,EAAsBoB,GAAtB,CAAnB;EACH,CAFD;;EAGAZ,KAAK,CAACI,SAAN,CAAgBS,eAAhB,GAAkC,UAAUC,IAAV,EAAgB;IAC9C,KAAKC,KAAL,GAAaD,IAAb;EACH,CAFD;;EAGAd,KAAK,CAACI,SAAN,CAAgBjB,eAAhB,GAAkC,YAAY;IAC1C,IAAImB,KAAK,GAAG,KAAKA,KAAjB;;IACA,IAAI,CAAC,KAAKS,KAAV,EAAiB;MACb,IAAIC,IAAI,GAAGV,KAAK,CAACU,IAAjB;MACAA,IAAI,IAAI,IAAR,GAAgBA,IAAI,IAAI,EAAxB,GAA+BA,IAAI,GAAG,EAAtC;MACA,IAAIF,IAAI,GAAG3B,eAAe,CAAC6B,IAAD,EAAOV,KAAK,CAACZ,IAAb,EAAmBY,KAAK,CAACT,SAAzB,EAAoCS,KAAK,CAACR,YAA1C,CAA1B;MACAgB,IAAI,CAACnB,CAAL,IAAUW,KAAK,CAACX,CAAN,IAAW,CAArB;MACAmB,IAAI,CAAClB,CAAL,IAAUU,KAAK,CAACV,CAAN,IAAW,CAArB;;MACA,IAAI,KAAKS,SAAL,EAAJ,EAAsB;QAClB,IAAIY,CAAC,GAAGX,KAAK,CAACE,SAAd;QACAM,IAAI,CAACnB,CAAL,IAAUsB,CAAC,GAAG,CAAd;QACAH,IAAI,CAAClB,CAAL,IAAUqB,CAAC,GAAG,CAAd;QACAH,IAAI,CAACI,KAAL,IAAcD,CAAd;QACAH,IAAI,CAACK,MAAL,IAAeF,CAAf;MACH;;MACD,KAAKF,KAAL,GAAaD,IAAb;IACH;;IACD,OAAO,KAAKC,KAAZ;EACH,CAlBD;;EAmBAf,KAAK,CAACoB,gBAAN,GAA0B,YAAY;IAClC,IAAIC,UAAU,GAAGrB,KAAK,CAACI,SAAvB;IACAiB,UAAU,CAACC,kBAAX,GAAgC,EAAhC;EACH,CAHwB,EAAzB;;EAIA,OAAOtB,KAAP;AACH,CA7CY,CA6CXd,WA7CW,CAAb;;AA8CAc,KAAK,CAACI,SAAN,CAAgBmB,IAAhB,GAAuB,OAAvB;AACA,eAAevB,KAAf"},"metadata":{},"sourceType":"module"}
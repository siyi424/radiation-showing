{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport { RADIAN_TO_DEGREE, retrieve2, logError, isFunction } from '../core/util.js';\nimport { parse } from '../tool/color.js';\nimport env from '../core/env.js';\nvar mathRound = Math.round;\nexport function normalizeColor(color) {\n  var opacity;\n\n  if (!color || color === 'transparent') {\n    color = 'none';\n  } else if (typeof color === 'string' && color.indexOf('rgba') > -1) {\n    var arr = parse(color);\n\n    if (arr) {\n      color = 'rgb(' + arr[0] + ',' + arr[1] + ',' + arr[2] + ')';\n      opacity = arr[3];\n    }\n  }\n\n  return {\n    color: color,\n    opacity: opacity == null ? 1 : opacity\n  };\n}\nvar EPSILON = 1e-4;\nexport function isAroundZero(transform) {\n  return transform < EPSILON && transform > -EPSILON;\n}\nexport function round3(transform) {\n  return mathRound(transform * 1e3) / 1e3;\n}\nexport function round4(transform) {\n  return mathRound(transform * 1e4) / 1e4;\n}\nexport function round1(transform) {\n  return mathRound(transform * 10) / 10;\n}\nexport function getMatrixStr(m) {\n  return 'matrix(' + round3(m[0]) + ',' + round3(m[1]) + ',' + round3(m[2]) + ',' + round3(m[3]) + ',' + round4(m[4]) + ',' + round4(m[5]) + ')';\n}\nexport var TEXT_ALIGN_TO_ANCHOR = {\n  left: 'start',\n  right: 'end',\n  center: 'middle',\n  middle: 'middle'\n};\nexport function adjustTextY(y, lineHeight, textBaseline) {\n  if (textBaseline === 'top') {\n    y += lineHeight / 2;\n  } else if (textBaseline === 'bottom') {\n    y -= lineHeight / 2;\n  }\n\n  return y;\n}\nexport function hasShadow(style) {\n  return style && (style.shadowBlur || style.shadowOffsetX || style.shadowOffsetY);\n}\nexport function getShadowKey(displayable) {\n  var style = displayable.style;\n  var globalScale = displayable.getGlobalScale();\n  return [style.shadowColor, (style.shadowBlur || 0).toFixed(2), (style.shadowOffsetX || 0).toFixed(2), (style.shadowOffsetY || 0).toFixed(2), globalScale[0], globalScale[1]].join(',');\n}\nexport function getClipPathsKey(clipPaths) {\n  var key = [];\n\n  if (clipPaths) {\n    for (var i = 0; i < clipPaths.length; i++) {\n      var clipPath = clipPaths[i];\n      key.push(clipPath.id);\n    }\n  }\n\n  return key.join(',');\n}\nexport function isImagePattern(val) {\n  return val && !!val.image;\n}\nexport function isSVGPattern(val) {\n  return val && !!val.svgElement;\n}\nexport function isPattern(val) {\n  return isImagePattern(val) || isSVGPattern(val);\n}\nexport function isLinearGradient(val) {\n  return val.type === 'linear';\n}\nexport function isRadialGradient(val) {\n  return val.type === 'radial';\n}\nexport function isGradient(val) {\n  return val && (val.type === 'linear' || val.type === 'radial');\n}\nexport function getIdURL(id) {\n  return \"url(#\" + id + \")\";\n}\nexport function getPathPrecision(el) {\n  var scale = el.getGlobalScale();\n  var size = Math.max(scale[0], scale[1]);\n  return Math.max(Math.ceil(Math.log(size) / Math.log(10)), 1);\n}\nexport function getSRTTransformString(transform) {\n  var x = transform.x || 0;\n  var y = transform.y || 0;\n  var rotation = (transform.rotation || 0) * RADIAN_TO_DEGREE;\n  var scaleX = retrieve2(transform.scaleX, 1);\n  var scaleY = retrieve2(transform.scaleY, 1);\n  var skewX = transform.skewX || 0;\n  var skewY = transform.skewY || 0;\n  var res = [];\n\n  if (x || y) {\n    res.push(\"translate(\" + x + \"px,\" + y + \"px)\");\n  }\n\n  if (rotation) {\n    res.push(\"rotate(\" + rotation + \")\");\n  }\n\n  if (scaleX !== 1 || scaleY !== 1) {\n    res.push(\"scale(\" + scaleX + \",\" + scaleY + \")\");\n  }\n\n  if (skewX || skewY) {\n    res.push(\"skew(\" + mathRound(skewX * RADIAN_TO_DEGREE) + \"deg, \" + mathRound(skewY * RADIAN_TO_DEGREE) + \"deg)\");\n  }\n\n  return res.join(' ');\n}\nexport var encodeBase64 = function () {\n  if (env.hasGlobalWindow && isFunction(window.btoa)) {\n    return function (str) {\n      return window.btoa(unescape(str));\n    };\n  }\n\n  if (typeof Buffer !== 'undefined') {\n    return function (str) {\n      return Buffer.from(str).toString('base64');\n    };\n  }\n\n  return function (str) {\n    if (process.env.NODE_ENV !== 'production') {\n      logError('Base64 isn\\'t natively supported in the current environment.');\n    }\n\n    return null;\n  };\n}();","map":{"version":3,"names":["RADIAN_TO_DEGREE","retrieve2","logError","isFunction","parse","env","mathRound","Math","round","normalizeColor","color","opacity","indexOf","arr","EPSILON","isAroundZero","transform","round3","round4","round1","getMatrixStr","m","TEXT_ALIGN_TO_ANCHOR","left","right","center","middle","adjustTextY","y","lineHeight","textBaseline","hasShadow","style","shadowBlur","shadowOffsetX","shadowOffsetY","getShadowKey","displayable","globalScale","getGlobalScale","shadowColor","toFixed","join","getClipPathsKey","clipPaths","key","i","length","clipPath","push","id","isImagePattern","val","image","isSVGPattern","svgElement","isPattern","isLinearGradient","type","isRadialGradient","isGradient","getIdURL","getPathPrecision","el","scale","size","max","ceil","log","getSRTTransformString","x","rotation","scaleX","scaleY","skewX","skewY","res","encodeBase64","hasGlobalWindow","window","btoa","str","unescape","Buffer","from","toString","process","NODE_ENV"],"sources":["/home/siyi/Projects/radi-demo/radi-showing/node_modules/zrender/lib/svg/helper.js"],"sourcesContent":["import { RADIAN_TO_DEGREE, retrieve2, logError, isFunction } from '../core/util.js';\nimport { parse } from '../tool/color.js';\nimport env from '../core/env.js';\nvar mathRound = Math.round;\nexport function normalizeColor(color) {\n    var opacity;\n    if (!color || color === 'transparent') {\n        color = 'none';\n    }\n    else if (typeof color === 'string' && color.indexOf('rgba') > -1) {\n        var arr = parse(color);\n        if (arr) {\n            color = 'rgb(' + arr[0] + ',' + arr[1] + ',' + arr[2] + ')';\n            opacity = arr[3];\n        }\n    }\n    return {\n        color: color,\n        opacity: opacity == null ? 1 : opacity\n    };\n}\nvar EPSILON = 1e-4;\nexport function isAroundZero(transform) {\n    return transform < EPSILON && transform > -EPSILON;\n}\nexport function round3(transform) {\n    return mathRound(transform * 1e3) / 1e3;\n}\nexport function round4(transform) {\n    return mathRound(transform * 1e4) / 1e4;\n}\nexport function round1(transform) {\n    return mathRound(transform * 10) / 10;\n}\nexport function getMatrixStr(m) {\n    return 'matrix('\n        + round3(m[0]) + ','\n        + round3(m[1]) + ','\n        + round3(m[2]) + ','\n        + round3(m[3]) + ','\n        + round4(m[4]) + ','\n        + round4(m[5])\n        + ')';\n}\nexport var TEXT_ALIGN_TO_ANCHOR = {\n    left: 'start',\n    right: 'end',\n    center: 'middle',\n    middle: 'middle'\n};\nexport function adjustTextY(y, lineHeight, textBaseline) {\n    if (textBaseline === 'top') {\n        y += lineHeight / 2;\n    }\n    else if (textBaseline === 'bottom') {\n        y -= lineHeight / 2;\n    }\n    return y;\n}\nexport function hasShadow(style) {\n    return style\n        && (style.shadowBlur || style.shadowOffsetX || style.shadowOffsetY);\n}\nexport function getShadowKey(displayable) {\n    var style = displayable.style;\n    var globalScale = displayable.getGlobalScale();\n    return [\n        style.shadowColor,\n        (style.shadowBlur || 0).toFixed(2),\n        (style.shadowOffsetX || 0).toFixed(2),\n        (style.shadowOffsetY || 0).toFixed(2),\n        globalScale[0],\n        globalScale[1]\n    ].join(',');\n}\nexport function getClipPathsKey(clipPaths) {\n    var key = [];\n    if (clipPaths) {\n        for (var i = 0; i < clipPaths.length; i++) {\n            var clipPath = clipPaths[i];\n            key.push(clipPath.id);\n        }\n    }\n    return key.join(',');\n}\nexport function isImagePattern(val) {\n    return val && (!!val.image);\n}\nexport function isSVGPattern(val) {\n    return val && (!!val.svgElement);\n}\nexport function isPattern(val) {\n    return isImagePattern(val) || isSVGPattern(val);\n}\nexport function isLinearGradient(val) {\n    return val.type === 'linear';\n}\nexport function isRadialGradient(val) {\n    return val.type === 'radial';\n}\nexport function isGradient(val) {\n    return val && (val.type === 'linear'\n        || val.type === 'radial');\n}\nexport function getIdURL(id) {\n    return \"url(#\" + id + \")\";\n}\nexport function getPathPrecision(el) {\n    var scale = el.getGlobalScale();\n    var size = Math.max(scale[0], scale[1]);\n    return Math.max(Math.ceil(Math.log(size) / Math.log(10)), 1);\n}\nexport function getSRTTransformString(transform) {\n    var x = transform.x || 0;\n    var y = transform.y || 0;\n    var rotation = (transform.rotation || 0) * RADIAN_TO_DEGREE;\n    var scaleX = retrieve2(transform.scaleX, 1);\n    var scaleY = retrieve2(transform.scaleY, 1);\n    var skewX = transform.skewX || 0;\n    var skewY = transform.skewY || 0;\n    var res = [];\n    if (x || y) {\n        res.push(\"translate(\" + x + \"px,\" + y + \"px)\");\n    }\n    if (rotation) {\n        res.push(\"rotate(\" + rotation + \")\");\n    }\n    if (scaleX !== 1 || scaleY !== 1) {\n        res.push(\"scale(\" + scaleX + \",\" + scaleY + \")\");\n    }\n    if (skewX || skewY) {\n        res.push(\"skew(\" + mathRound(skewX * RADIAN_TO_DEGREE) + \"deg, \" + mathRound(skewY * RADIAN_TO_DEGREE) + \"deg)\");\n    }\n    return res.join(' ');\n}\nexport var encodeBase64 = (function () {\n    if (env.hasGlobalWindow && isFunction(window.btoa)) {\n        return function (str) {\n            return window.btoa(unescape(str));\n        };\n    }\n    if (typeof Buffer !== 'undefined') {\n        return function (str) {\n            return Buffer.from(str).toString('base64');\n        };\n    }\n    return function (str) {\n        if (process.env.NODE_ENV !== 'production') {\n            logError('Base64 isn\\'t natively supported in the current environment.');\n        }\n        return null;\n    };\n})();\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as vec2 from '../../core/vector.js';\nimport { quadraticSubdivide, cubicSubdivide, quadraticAt, cubicAt, quadraticDerivativeAt, cubicDerivativeAt } from '../../core/curve.js';\nvar out = [];\n\nvar BezierCurveShape = function () {\n  function BezierCurveShape() {\n    this.x1 = 0;\n    this.y1 = 0;\n    this.x2 = 0;\n    this.y2 = 0;\n    this.cpx1 = 0;\n    this.cpy1 = 0;\n    this.percent = 1;\n  }\n\n  return BezierCurveShape;\n}();\n\nexport { BezierCurveShape };\n\nfunction someVectorAt(shape, t, isTangent) {\n  var cpx2 = shape.cpx2;\n  var cpy2 = shape.cpy2;\n\n  if (cpx2 != null || cpy2 != null) {\n    return [(isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t), (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)];\n  } else {\n    return [(isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t), (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)];\n  }\n}\n\nvar BezierCurve = function (_super) {\n  __extends(BezierCurve, _super);\n\n  function BezierCurve(opts) {\n    return _super.call(this, opts) || this;\n  }\n\n  BezierCurve.prototype.getDefaultStyle = function () {\n    return {\n      stroke: '#000',\n      fill: null\n    };\n  };\n\n  BezierCurve.prototype.getDefaultShape = function () {\n    return new BezierCurveShape();\n  };\n\n  BezierCurve.prototype.buildPath = function (ctx, shape) {\n    var x1 = shape.x1;\n    var y1 = shape.y1;\n    var x2 = shape.x2;\n    var y2 = shape.y2;\n    var cpx1 = shape.cpx1;\n    var cpy1 = shape.cpy1;\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n    var percent = shape.percent;\n\n    if (percent === 0) {\n      return;\n    }\n\n    ctx.moveTo(x1, y1);\n\n    if (cpx2 == null || cpy2 == null) {\n      if (percent < 1) {\n        quadraticSubdivide(x1, cpx1, x2, percent, out);\n        cpx1 = out[1];\n        x2 = out[2];\n        quadraticSubdivide(y1, cpy1, y2, percent, out);\n        cpy1 = out[1];\n        y2 = out[2];\n      }\n\n      ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n    } else {\n      if (percent < 1) {\n        cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\n        cpx1 = out[1];\n        cpx2 = out[2];\n        x2 = out[3];\n        cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\n        cpy1 = out[1];\n        cpy2 = out[2];\n        y2 = out[3];\n      }\n\n      ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n    }\n  };\n\n  BezierCurve.prototype.pointAt = function (t) {\n    return someVectorAt(this.shape, t, false);\n  };\n\n  BezierCurve.prototype.tangentAt = function (t) {\n    var p = someVectorAt(this.shape, t, true);\n    return vec2.normalize(p, p);\n  };\n\n  return BezierCurve;\n}(Path);\n\n;\nBezierCurve.prototype.type = 'bezier-curve';\nexport default BezierCurve;","map":{"version":3,"names":["__extends","Path","vec2","quadraticSubdivide","cubicSubdivide","quadraticAt","cubicAt","quadraticDerivativeAt","cubicDerivativeAt","out","BezierCurveShape","x1","y1","x2","y2","cpx1","cpy1","percent","someVectorAt","shape","t","isTangent","cpx2","cpy2","BezierCurve","_super","opts","call","prototype","getDefaultStyle","stroke","fill","getDefaultShape","buildPath","ctx","moveTo","quadraticCurveTo","bezierCurveTo","pointAt","tangentAt","p","normalize","type"],"sources":["/home/siyi/Projects/radi-demo/radi-showing/node_modules/zrender/lib/graphic/shape/BezierCurve.js"],"sourcesContent":["import { __extends } from \"tslib\";\nimport Path from '../Path.js';\nimport * as vec2 from '../../core/vector.js';\nimport { quadraticSubdivide, cubicSubdivide, quadraticAt, cubicAt, quadraticDerivativeAt, cubicDerivativeAt } from '../../core/curve.js';\nvar out = [];\nvar BezierCurveShape = (function () {\n    function BezierCurveShape() {\n        this.x1 = 0;\n        this.y1 = 0;\n        this.x2 = 0;\n        this.y2 = 0;\n        this.cpx1 = 0;\n        this.cpy1 = 0;\n        this.percent = 1;\n    }\n    return BezierCurveShape;\n}());\nexport { BezierCurveShape };\nfunction someVectorAt(shape, t, isTangent) {\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n    if (cpx2 != null || cpy2 != null) {\n        return [\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t),\n            (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)\n        ];\n    }\n    else {\n        return [\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t),\n            (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)\n        ];\n    }\n}\nvar BezierCurve = (function (_super) {\n    __extends(BezierCurve, _super);\n    function BezierCurve(opts) {\n        return _super.call(this, opts) || this;\n    }\n    BezierCurve.prototype.getDefaultStyle = function () {\n        return {\n            stroke: '#000',\n            fill: null\n        };\n    };\n    BezierCurve.prototype.getDefaultShape = function () {\n        return new BezierCurveShape();\n    };\n    BezierCurve.prototype.buildPath = function (ctx, shape) {\n        var x1 = shape.x1;\n        var y1 = shape.y1;\n        var x2 = shape.x2;\n        var y2 = shape.y2;\n        var cpx1 = shape.cpx1;\n        var cpy1 = shape.cpy1;\n        var cpx2 = shape.cpx2;\n        var cpy2 = shape.cpy2;\n        var percent = shape.percent;\n        if (percent === 0) {\n            return;\n        }\n        ctx.moveTo(x1, y1);\n        if (cpx2 == null || cpy2 == null) {\n            if (percent < 1) {\n                quadraticSubdivide(x1, cpx1, x2, percent, out);\n                cpx1 = out[1];\n                x2 = out[2];\n                quadraticSubdivide(y1, cpy1, y2, percent, out);\n                cpy1 = out[1];\n                y2 = out[2];\n            }\n            ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n        }\n        else {\n            if (percent < 1) {\n                cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\n                cpx1 = out[1];\n                cpx2 = out[2];\n                x2 = out[3];\n                cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\n                cpy1 = out[1];\n                cpy2 = out[2];\n                y2 = out[3];\n            }\n            ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n        }\n    };\n    BezierCurve.prototype.pointAt = function (t) {\n        return someVectorAt(this.shape, t, false);\n    };\n    BezierCurve.prototype.tangentAt = function (t) {\n        var p = someVectorAt(this.shape, t, true);\n        return vec2.normalize(p, p);\n    };\n    return BezierCurve;\n}(Path));\n;\nBezierCurve.prototype.type = 'bezier-curve';\nexport default BezierCurve;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}